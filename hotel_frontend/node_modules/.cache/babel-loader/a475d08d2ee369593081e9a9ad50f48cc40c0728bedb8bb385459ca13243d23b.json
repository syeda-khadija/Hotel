{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\asp\\\\Documents\\\\GitHub\\\\Hotel\\\\hotel_frontend\\\\src\\\\WEB\\\\Room.jsx\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport Footer from './Footer';\nimport Navbar from './Navbar';\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Room() {\n  _s();\n  const [rooms, setRooms] = useState([]);\n  const [isLoggedIn, setIsLoggedIn] = useState(false); // 🔐 Login status\n\n  useEffect(() => {\n    fetchRooms();\n\n    // 🔐 Check login status\n    const storedUser = JSON.parse(localStorage.getItem('User_Data'));\n    if (storedUser && storedUser._id) {\n      setIsLoggedIn(true);\n    }\n  }, []);\n  const fetchRooms = async () => {\n    try {\n      const res = await axios.get('http://localhost:3007/room/all');\n      setRooms(res.data);\n    } catch (error) {\n      console.error('Failed to fetch rooms:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mt-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"All Rooms\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: rooms.length > 0 ? rooms.map(room => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4 mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card h-100 shadow-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: `http://localhost:3007/uploads/${room.image}`,\n              onError: e => {\n                e.target.src = \"/default-room.jpg\";\n              },\n              className: \"card-img-top\",\n              alt: \"Room\",\n              style: {\n                height: '200px',\n                objectFit: 'cover'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body d-flex flex-column\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"card-title\",\n                children: room.room_type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 48,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"card-text\",\n                children: room.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 49,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Beds:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 50,\n                  columnNumber: 24\n                }, this), \" \", room.no_of_bed]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 50,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Room No:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 51,\n                  columnNumber: 24\n                }, this), \" \", room.room_number]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Price:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 52,\n                  columnNumber: 24\n                }, this), \" Rs. \", room.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Status:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 53,\n                  columnNumber: 24\n                }, this), \" \", room.is_available ? 'Available' : 'Not Available']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 21\n              }, this), room.is_available && isLoggedIn ? /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/book\",\n                state: {\n                  room\n                },\n                className: \"mt-auto\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-danger w-100\",\n                  children: \"Book Now\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 57,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-secondary w-100 mt-auto\",\n                disabled: true,\n                children: room.is_available ? isLoggedIn ? 'Book Now' : 'Login to Book' : 'Not Available'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 17\n          }, this)\n        }, room._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 15\n        }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-warning\",\n          children: \"No room data found.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n}\n_s(Room, \"8q9iF4dlKis9DWjHyHULdJvK7Gk=\");\n_c = Room;\nvar _c;\n$RefreshReg$(_c, \"Room\");","map":{"version":3,"names":["axios","Footer","Navbar","React","useEffect","useState","Link","jsxDEV","_jsxDEV","Room","_s","rooms","setRooms","isLoggedIn","setIsLoggedIn","fetchRooms","storedUser","JSON","parse","localStorage","getItem","_id","res","get","data","error","console","children","fileName","_jsxFileName","lineNumber","columnNumber","className","length","map","room","src","image","onError","e","target","alt","style","height","objectFit","room_type","description","no_of_bed","room_number","price","is_available","to","state","disabled","_c","$RefreshReg$"],"sources":["C:/Users/asp/Documents/GitHub/Hotel/hotel_frontend/src/WEB/Room.jsx"],"sourcesContent":["import axios from 'axios';\r\nimport Footer from './Footer';\r\nimport Navbar from './Navbar';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Room() {\r\n  const [rooms, setRooms] = useState([]);\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false); // 🔐 Login status\r\n\r\n  useEffect(() => {\r\n    fetchRooms();\r\n\r\n    // 🔐 Check login status\r\n    const storedUser = JSON.parse(localStorage.getItem('User_Data'));\r\n    if (storedUser && storedUser._id) {\r\n      setIsLoggedIn(true);\r\n    }\r\n  }, []);\r\n\r\n  const fetchRooms = async () => {\r\n    try {\r\n      const res = await axios.get('http://localhost:3007/room/all');\r\n      setRooms(res.data);\r\n    } catch (error) {\r\n      console.error('Failed to fetch rooms:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Navbar />\r\n      <div className=\"container mt-5\">\r\n        <h2>All Rooms</h2>\r\n        <div className=\"row\">\r\n          {rooms.length > 0 ? (\r\n            rooms.map((room) => (\r\n              <div className=\"col-md-4 mb-4\" key={room._id}>\r\n                <div className=\"card h-100 shadow-sm\">\r\n                  <img\r\n                    src={`http://localhost:3007/uploads/${room.image}`}\r\n                    onError={(e) => { e.target.src = \"/default-room.jpg\"; }}\r\n                    className=\"card-img-top\"\r\n                    alt=\"Room\"\r\n                    style={{ height: '200px', objectFit: 'cover' }}\r\n                  />\r\n                  <div className=\"card-body d-flex flex-column\">\r\n                    <h5 className=\"card-title\">{room.room_type}</h5>\r\n                    <p className=\"card-text\">{room.description}</p>\r\n                    <p><strong>Beds:</strong> {room.no_of_bed}</p>\r\n                    <p><strong>Room No:</strong> {room.room_number}</p>\r\n                    <p><strong>Price:</strong> Rs. {room.price}</p>\r\n                    <p><strong>Status:</strong> {room.is_available ? 'Available' : 'Not Available'}</p>\r\n\r\n                    {room.is_available && isLoggedIn ? (\r\n                      <Link to=\"/book\" state={{ room }} className=\"mt-auto\">\r\n                        <button className=\"btn btn-danger w-100\">Book Now</button>\r\n                      </Link>\r\n                    ) : (\r\n                      <button className=\"btn btn-secondary w-100 mt-auto\" disabled>\r\n                        {room.is_available\r\n                          ? isLoggedIn\r\n                            ? 'Book Now'\r\n                            : 'Login to Book'\r\n                          : 'Not Available'}\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))\r\n          ) : (\r\n            <div className=\"alert alert-warning\">No room data found.</div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,IAAI,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExC,eAAe,SAASC,IAAIA,CAAA,EAAG;EAAAC,EAAA;EAC7B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACQ,UAAU,EAAEC,aAAa,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;;EAErDD,SAAS,CAAC,MAAM;IACdW,UAAU,CAAC,CAAC;;IAEZ;IACA,MAAMC,UAAU,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC;IAChE,IAAIJ,UAAU,IAAIA,UAAU,CAACK,GAAG,EAAE;MAChCP,aAAa,CAAC,IAAI,CAAC;IACrB;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI;MACF,MAAMO,GAAG,GAAG,MAAMtB,KAAK,CAACuB,GAAG,CAAC,gCAAgC,CAAC;MAC7DX,QAAQ,CAACU,GAAG,CAACE,IAAI,CAAC;IACpB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAChD;EACF,CAAC;EAED,oBACEjB,OAAA;IAAAmB,QAAA,gBACEnB,OAAA,CAACN,MAAM;MAAA0B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACVvB,OAAA;MAAKwB,SAAS,EAAC,gBAAgB;MAAAL,QAAA,gBAC7BnB,OAAA;QAAAmB,QAAA,EAAI;MAAS;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAClBvB,OAAA;QAAKwB,SAAS,EAAC,KAAK;QAAAL,QAAA,EACjBhB,KAAK,CAACsB,MAAM,GAAG,CAAC,GACftB,KAAK,CAACuB,GAAG,CAAEC,IAAI,iBACb3B,OAAA;UAAKwB,SAAS,EAAC,eAAe;UAAAL,QAAA,eAC5BnB,OAAA;YAAKwB,SAAS,EAAC,sBAAsB;YAAAL,QAAA,gBACnCnB,OAAA;cACE4B,GAAG,EAAE,iCAAiCD,IAAI,CAACE,KAAK,EAAG;cACnDC,OAAO,EAAGC,CAAC,IAAK;gBAAEA,CAAC,CAACC,MAAM,CAACJ,GAAG,GAAG,mBAAmB;cAAE,CAAE;cACxDJ,SAAS,EAAC,cAAc;cACxBS,GAAG,EAAC,MAAM;cACVC,KAAK,EAAE;gBAAEC,MAAM,EAAE,OAAO;gBAAEC,SAAS,EAAE;cAAQ;YAAE;cAAAhB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChD,CAAC,eACFvB,OAAA;cAAKwB,SAAS,EAAC,8BAA8B;cAAAL,QAAA,gBAC3CnB,OAAA;gBAAIwB,SAAS,EAAC,YAAY;gBAAAL,QAAA,EAAEQ,IAAI,CAACU;cAAS;gBAAAjB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAChDvB,OAAA;gBAAGwB,SAAS,EAAC,WAAW;gBAAAL,QAAA,EAAEQ,IAAI,CAACW;cAAW;gBAAAlB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC/CvB,OAAA;gBAAAmB,QAAA,gBAAGnB,OAAA;kBAAAmB,QAAA,EAAQ;gBAAK;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,KAAC,EAACI,IAAI,CAACY,SAAS;cAAA;gBAAAnB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC9CvB,OAAA;gBAAAmB,QAAA,gBAAGnB,OAAA;kBAAAmB,QAAA,EAAQ;gBAAQ;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,KAAC,EAACI,IAAI,CAACa,WAAW;cAAA;gBAAApB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACnDvB,OAAA;gBAAAmB,QAAA,gBAAGnB,OAAA;kBAAAmB,QAAA,EAAQ;gBAAM;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,SAAK,EAACI,IAAI,CAACc,KAAK;cAAA;gBAAArB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC/CvB,OAAA;gBAAAmB,QAAA,gBAAGnB,OAAA;kBAAAmB,QAAA,EAAQ;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,KAAC,EAACI,IAAI,CAACe,YAAY,GAAG,WAAW,GAAG,eAAe;cAAA;gBAAAtB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,EAElFI,IAAI,CAACe,YAAY,IAAIrC,UAAU,gBAC9BL,OAAA,CAACF,IAAI;gBAAC6C,EAAE,EAAC,OAAO;gBAACC,KAAK,EAAE;kBAAEjB;gBAAK,CAAE;gBAACH,SAAS,EAAC,SAAS;gBAAAL,QAAA,eACnDnB,OAAA;kBAAQwB,SAAS,EAAC,sBAAsB;kBAAAL,QAAA,EAAC;gBAAQ;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtD,CAAC,gBAEPvB,OAAA;gBAAQwB,SAAS,EAAC,iCAAiC;gBAACqB,QAAQ;gBAAA1B,QAAA,EACzDQ,IAAI,CAACe,YAAY,GACdrC,UAAU,GACR,UAAU,GACV,eAAe,GACjB;cAAe;gBAAAe,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACb,CACT;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC,GA/B4BI,IAAI,CAACd,GAAG;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAgCvC,CACN,CAAC,gBAEFvB,OAAA;UAAKwB,SAAS,EAAC,qBAAqB;UAAAL,QAAA,EAAC;QAAmB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK;MAC9D;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eACNvB,OAAA,CAACP,MAAM;MAAA2B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACP,CAAC;AAEV;AAACrB,EAAA,CAzEuBD,IAAI;AAAA6C,EAAA,GAAJ7C,IAAI;AAAA,IAAA6C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}